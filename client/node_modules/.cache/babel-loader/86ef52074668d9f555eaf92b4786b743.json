{"ast":null,"code":"var _jsxFileName = \"/home/chairchandler/Desktop/Bazy Danych/client/src/AdminPanel/AdminPanel.js\";\nimport React from 'react';\nimport SQLTable from '../Shared/SQLTable';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button, TextField } from '@material-ui/core';\n\nconst AddUserDialog = (isOpen, onClose) => React.createElement(Dialog, {\n  open: isOpen,\n  onClose: onClose,\n  \"aria-labelledby\": \"form-dialog-title\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, React.createElement(DialogTitle, {\n  id: \"form-dialog-title\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, \"Add user\"), React.createElement(DialogContent, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}, React.createElement(TextField, {\n  autoFocus: true,\n  required: true,\n  margin: \"dense\",\n  id: \"name\",\n  label: \"Login\",\n  type: \"text\",\n  fullWidth: true,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19\n  },\n  __self: this\n})), React.createElement(DialogActions, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30\n  },\n  __self: this\n}, React.createElement(Button, {\n  onClick: onClose,\n  color: \"primary\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31\n  },\n  __self: this\n}, \"Cancel\"), React.createElement(Button, {\n  onClick: onClose,\n  color: \"primary\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34\n  },\n  __self: this\n}, \"Done\")));\n\nexport default class AdminPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getUsers = () => {\n      fetch(`http://${this.props.connection.ip}:${this.props.connection.port}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'text/plain',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          operation: 'show users',\n          data: this.props.user\n        })\n      }).then(res => res.json()).then(json => {\n        this.headers = json.headers;\n        this.rows = json.rows;\n        this.forceUpdate();\n      }).catch(error => {\n        alert(error);\n      });\n    };\n\n    this.openDialog = id => {\n      this.dialogs[id].open = true;\n    };\n\n    this.closeDialog = id => {\n      this.dialogs[id].open = false;\n    };\n\n    this.render = () => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.headers && this.rows && React.createElement(SQLTable, {\n        headers: this.headers,\n        rows: this.rows,\n        title: \"Users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        onClick: this.addUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(AddOutlinedIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), React.createElement(IconButton, {\n        onClick: this.editUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(EditOutlinedIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(IconButton, {\n        onClick: this.removeUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(RemoveCircleOutlineOutlinedIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }))), React.createElement(AddUserDialog, {\n        isOpen: this.addUser.x,\n        onClose: () => alert('close'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }));\n    };\n\n    this.getUsers();\n    this.dialogs = {\n      'add': {\n        open: false\n      },\n      'edit': {\n        open: false\n      },\n      'close': {\n        open: false\n      }\n    };\n  }\n\n}","map":{"version":3,"sources":["/home/chairchandler/Desktop/Bazy Danych/client/src/AdminPanel/AdminPanel.js"],"names":["React","SQLTable","IconButton","AddOutlinedIcon","EditOutlinedIcon","RemoveCircleOutlineOutlinedIcon","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","TextField","AddUserDialog","isOpen","onClose","AdminPanel","Component","constructor","props","getUsers","fetch","connection","ip","port","method","headers","body","JSON","stringify","operation","data","user","then","res","json","rows","forceUpdate","catch","error","alert","openDialog","id","dialogs","open","closeDialog","render","addUser","editUser","removeUser","x"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SQLTable from '../Shared/SQLTable';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button, TextField } from '@material-ui/core';\n\nconst AddUserDialog = (isOpen, onClose) => \n    <Dialog open={isOpen} onClose={onClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add user</DialogTitle>\n        \n        <DialogContent>\n          <TextField\n            autoFocus\n            required\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Login\"\n            type=\"text\"\n            fullWidth\n          />\n        </DialogContent>\n\n        <DialogActions>\n          <Button onClick={onClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={onClose} color=\"primary\">\n            Done\n          </Button>\n        </DialogActions>\n    </Dialog>\n\nexport default class AdminPanel extends React.Component {\n    constructor(props) {\n        super(props)\n        this.getUsers()\n        this.dialogs = {\n            'add': {\n                open: false\n            },\n            'edit': {\n                open: false\n            },\n            'close': {\n                open: false\n            }\n        }\n    }\n    \n    getUsers = () => {\n        fetch(`http://${this.props.connection.ip}:${this.props.connection.port}`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'text/plain',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            operation: 'show users',\n            data: this.props.user\n          })\n        })\n        .then(res => res.json())\n        .then(json => {\n            this.headers = json.headers\n            this.rows = json.rows\n            this.forceUpdate()\n        })\n        .catch(error => {\n            alert(error)\n        })\n    }\n\n    openDialog = (id) => {\n        this.dialogs[id].open = true\n    }\n\n    closeDialog = (id) => {\n        this.dialogs[id].open = false\n    }\n\n    render = () => {\n        return(\n            <div>\n                {this.headers && this.rows && (\n                    <SQLTable headers={this.headers} rows={this.rows} title=\"Users\">\n                        <IconButton onClick={this.addUser}>\n                            <AddOutlinedIcon/>\n                        </IconButton>\n\n                        <IconButton onClick={this.editUser}>\n                            <EditOutlinedIcon/>\n                        </IconButton>\n                        \n                        <IconButton onClick={this.removeUser}>\n                            <RemoveCircleOutlineOutlinedIcon/>\n                        </IconButton>\n                    </SQLTable>\n                )}\n\n                <AddUserDialog isOpen={this.addUser.x} onClose={()=>alert('close')}/>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}