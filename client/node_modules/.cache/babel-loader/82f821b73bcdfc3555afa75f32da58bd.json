{"ast":null,"code":"const send = fetch;\nexport default class DbmsFetch {\n  constructor({\n    ip,\n    port\n  }, userInfo) {\n    this.createPayload = (operation, name, data) => {\n      const payload = {\n        operation: operation,\n        data: {\n          login: this.userInfo.login,\n          password: this.userInfo.password,\n          'account-type': this.userInfo['account-type']\n        }\n      };\n\n      if (name !== null) {\n        payload.data['name'] = data;\n      }\n\n      return payload;\n    };\n\n    this.fetch = (operation, name, data) => {\n      alert(JSON.stringify({\n        operation: operation,\n        data: {\n          login: this.userInfo.login,\n          password: this.userInfo.password,\n          'account-type': this.userInfo['account-type'],\n          [name]: data\n        }\n      }));\n      return send(`http://${this.ip}:${this.port}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'text/plain',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify(this.createPayload(operation, name, data))\n      }).then(res => res.json());\n    };\n\n    this.ip = ip;\n    this.port = port;\n    this.userInfo = userInfo;\n  }\n\n}","map":{"version":3,"sources":["/home/chairchandler/Desktop/Bazy Danych/client/src/Shared/DbmsFetch.js"],"names":["send","fetch","DbmsFetch","constructor","ip","port","userInfo","createPayload","operation","name","data","payload","login","password","alert","JSON","stringify","method","headers","body","then","res","json"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,KAAb;AAEA,eAAe,MAAMC,SAAN,CAAgB;AAC3BC,EAAAA,WAAW,CAAC;AAACC,IAAAA,EAAD;AAAKC,IAAAA;AAAL,GAAD,EAAaC,QAAb,EAAuB;AAAA,SAMlCC,aANkC,GAMlB,CAACC,SAAD,EAAYC,IAAZ,EAAkBC,IAAlB,KAA2B;AACvC,YAAMC,OAAO,GAAG;AACZH,QAAAA,SAAS,EAAEA,SADC;AAEZE,QAAAA,IAAI,EAAE;AACFE,UAAAA,KAAK,EAAE,KAAKN,QAAL,CAAcM,KADnB;AAEFC,UAAAA,QAAQ,EAAE,KAAKP,QAAL,CAAcO,QAFtB;AAGF,0BAAgB,KAAKP,QAAL,CAAc,cAAd;AAHd;AAFM,OAAhB;;AASA,UAAGG,IAAI,KAAK,IAAZ,EAAkB;AACdE,QAAAA,OAAO,CAACD,IAAR,CAAa,MAAb,IAAuBA,IAAvB;AACH;;AAED,aAAOC,OAAP;AACH,KArBiC;;AAAA,SAuBlCV,KAvBkC,GAuB1B,CAACO,SAAD,EAAYC,IAAZ,EAAkBC,IAAlB,KAA2B;AAC/BI,MAAAA,KAAK,CAACC,IAAI,CAACC,SAAL,CAAe;AACjBR,QAAAA,SAAS,EAAEA,SADM;AAEjBE,QAAAA,IAAI,EAAE;AACFE,UAAAA,KAAK,EAAE,KAAKN,QAAL,CAAcM,KADnB;AAEFC,UAAAA,QAAQ,EAAE,KAAKP,QAAL,CAAcO,QAFtB;AAGF,0BAAgB,KAAKP,QAAL,CAAc,cAAd,CAHd;AAIF,WAACG,IAAD,GAAQC;AAJN;AAFW,OAAf,CAAD,CAAL;AASA,aACIV,IAAI,CAAE,UAAS,KAAKI,EAAG,IAAG,KAAKC,IAAK,EAAhC,EAAmC;AACnCY,QAAAA,MAAM,EAAE,MAD2B;AAEnCC,QAAAA,OAAO,EAAE;AACT,0BAAgB,YADP;AAET,oBAAU;AAFD,SAF0B;AAMnCC,QAAAA,IAAI,EAAEJ,IAAI,CAACC,SAAL,CAAe,KAAKT,aAAL,CAAmBC,SAAnB,EAA8BC,IAA9B,EAAoCC,IAApC,CAAf;AAN6B,OAAnC,CAAJ,CAQCU,IARD,CAQMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARb,CADJ;AAWH,KA5CiC;;AAC9B,SAAKlB,EAAL,GAAUA,EAAV;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACH;;AAL0B","sourcesContent":["const send = fetch\n\nexport default class DbmsFetch {\n    constructor({ip, port}, userInfo) {\n        this.ip = ip\n        this.port = port\n        this.userInfo = userInfo\n    }\n\n    createPayload = (operation, name, data) => {\n        const payload = {\n            operation: operation,\n            data: {\n                login: this.userInfo.login,\n                password: this.userInfo.password,\n                'account-type': this.userInfo['account-type']\n            }\n        }\n\n        if(name !== null) {\n            payload.data['name'] = data\n        }\n\n        return payload\n    }\n\n    fetch = (operation, name, data) => {\n        alert(JSON.stringify({\n            operation: operation,\n            data: {\n                login: this.userInfo.login,\n                password: this.userInfo.password,\n                'account-type': this.userInfo['account-type'],\n                [name]: data\n            }\n        }))\n        return (\n            send(`http://${this.ip}:${this.port}`, {\n                method: 'POST',\n                headers: {\n                'Content-Type': 'text/plain',\n                'Accept': 'application/json'\n                },\n                body: JSON.stringify(this.createPayload(operation, name, data))\n            })\n            .then(res => res.json())\n        )\n    }\n\n    \n}"]},"metadata":{},"sourceType":"module"}