{"ast":null,"code":"var _jsxFileName = \"/home/chairchandler/Desktop/Bazy Danych/client/src/DirectorPanel/Dialogs/JobDialogs.js\";\nimport React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { FormDialog } from '../../Shared/Dialog';\nexport class AddJobTypeDialog extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.validate = () => {\n      const jobTypeCreate = this.props.jobs.some(job => job.nazwa_etatu === this.state.inputs.name);\n      return {\n        //true means error\n        errors: {\n          name: jobTypeCreate || !this.state.inputs.name.length\n        },\n        errorsLabel: {\n          name: jobTypeCreate ? 'Etat już istnieje' : !this.state.inputs.name.length ? 'Puste imie' : ''\n        }\n      };\n    };\n\n    this.setInputValue = (name, val) => {\n      const state = this.state;\n      state.inputs[name] = val;\n      this.setState(state);\n    };\n\n    this.exit = () => {\n      const state = this.state;\n      state.isCancelled = true;\n      this.setState(state);\n    };\n\n    this.setErrors = (errors, label) => {\n      const state = this.state;\n      state.errors = errors;\n      state.errorsLabel = label;\n      this.setState(state);\n    };\n\n    this.submit = button => {\n      if (button === 'cancel') {\n        this.exit();\n        this.props.onClose(button);\n      } else {\n        const errors = this.validate();\n        const isError = Object.keys(errors.errors).some(key => errors.errors[key]);\n\n        if (isError) {\n          this.setErrors(errors.errors, errors.errorsLabel);\n        } else {\n          this.props.setData(this.state.inputs);\n          this.exit();\n          this.props.onClose(button);\n        }\n      }\n    };\n\n    this.render = () => {\n      return !this.state.isCancelled && React.createElement(FormDialog, {\n        title: this.props.title,\n        isOpen: true,\n        message: this.props.message,\n        onClose: type => {\n          this.submit(type);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        autoFocus: true,\n        required: true,\n        error: this.state.errors.name,\n        helperText: this.state.errorsLabel.name,\n        margin: \"dense\",\n        id: \"name\",\n        label: \"Etat\",\n        type: \"text\",\n        fullWidth: true,\n        onChange: event => {\n          if (event.target.value !== null) this.setInputValue('name', event.target.value);\n        },\n        inputProps: {\n          maxLength: 45\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"number\",\n        min: \"0\",\n        max: \"30000\",\n        value: \"0\",\n        onChange: event => {\n          this.setInputValue('payment', event.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }));\n    };\n\n    this.state = {\n      inputs: {\n        name: '',\n        payment: 0\n      },\n      errors: {\n        name: false\n      },\n      errorsLabel: {\n        name: ''\n      },\n      isCancelled: false\n    };\n  }\n\n}\nexport class EditJobType extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.validate = () => {\n      const jobTypeCreate = this.props.jobs.some(job => job.nazwa_etatu === this.state.inputs.name);\n      return {\n        //true means error\n        errors: {\n          name: jobTypeCreate || !this.state.inputs.name.length\n        },\n        errorsLabel: {\n          name: jobTypeCreate ? 'Etat już istnieje' : !this.state.inputs.name.length ? 'Puste imie' : ''\n        }\n      };\n    };\n\n    this.setInputValue = (name, val) => {\n      const state = this.state;\n      state.inputs[name] = val;\n      this.setState(state);\n    };\n\n    this.exit = () => {\n      const state = this.state;\n      state.isCancelled = true;\n      this.setState(state);\n    };\n\n    this.setErrors = (errors, label) => {\n      const state = this.state;\n      state.errors = errors;\n      state.errorsLabel = label;\n      this.setState(state);\n    };\n\n    this.submit = button => {\n      if (button === 'cancel') {\n        this.exit();\n        this.props.onClose(button);\n      } else {\n        const errors = this.validate();\n        const isError = Object.keys(errors.errors).some(key => errors.errors[key]);\n\n        if (isError) {\n          this.setErrors(errors.errors, errors.errorsLabel);\n        } else {\n          this.props.setData(this.state.inputs);\n          this.exit();\n          this.props.onClose(button);\n        }\n      }\n    };\n\n    this.render = () => {\n      return !this.state.isCancelled && React.createElement(FormDialog, {\n        title: this.props.title,\n        isOpen: true,\n        message: this.props.message,\n        onClose: type => {\n          this.submit(type);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        autoFocus: true,\n        required: true,\n        error: this.state.errors.name,\n        helperText: this.state.errorsLabel.name,\n        margin: \"dense\",\n        id: \"name\",\n        label: \"Etat\",\n        type: \"text\",\n        fullWidth: true,\n        onChange: event => {\n          if (event.target.value !== null) this.setInputValue('name', event.target.value);\n        },\n        inputProps: {\n          maxLength: 45\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"number\",\n        min: \"0\",\n        max: \"30000\",\n        value: \"0\",\n        onChange: event => {\n          this.setInputValue('payment', event.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }));\n    };\n\n    this.state = {\n      inputs: {\n        name: this.props.selected.nazwa_etatu,\n        payment: this.props.selected.placa_pod\n      },\n      errors: {\n        name: false\n      },\n      errorsLabel: {\n        name: ''\n      },\n      isCancelled: false\n    };\n  }\n\n}\nexport class SignTreatmentDialog extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setInputValue = (name, val) => {\n      const state = this.state;\n      state.inputs[name] = val;\n      this.setState(state);\n    };\n\n    this.exit = () => {\n      const state = this.state;\n      state.isCancelled = true;\n      this.setState(state);\n    };\n\n    this.submit = button => {\n      if (button === 'cancel') {\n        this.exit();\n        this.props.onClose(button);\n      } else {\n        this.props.setData(this.state.inputs);\n        this.exit();\n        this.props.onClose(button);\n      }\n    };\n\n    this.render = () => {\n      return !this.state.isCancelled && React.createElement(FormDialog, {\n        title: this.props.title,\n        isOpen: true,\n        message: this.props.message,\n        onClose: type => {\n          this.submit(type);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Pesel \"), React.createElement(\"select\", {\n        name: \"Pesel\",\n        onChange: event => {\n          this.setInputValue('pesel', event.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, this.props.pesels.map((pesel, indx) => React.createElement(\"option\", {\n        value: pesel,\n        selected: indx === 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, pesel))));\n    };\n\n    this.state = {\n      inputs: {\n        pesel: this.props.pesels[0]\n      },\n      isCancelled: false\n    };\n  }\n\n}","map":{"version":3,"sources":["/home/chairchandler/Desktop/Bazy Danych/client/src/DirectorPanel/Dialogs/JobDialogs.js"],"names":["React","TextField","FormDialog","AddJobTypeDialog","Component","constructor","props","validate","jobTypeCreate","jobs","some","job","nazwa_etatu","state","inputs","name","errors","length","errorsLabel","setInputValue","val","setState","exit","isCancelled","setErrors","label","submit","button","onClose","isError","Object","keys","key","setData","render","title","message","type","event","target","value","maxLength","payment","EditJobType","selected","placa_pod","SignTreatmentDialog","pesels","map","pesel","indx"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { FormDialog } from '../../Shared/Dialog';\n\n\nexport class AddJobTypeDialog extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputs: {\n        name: '',\n        payment: 0\n      },\n      errors: {\n        name: false\n      },\n      errorsLabel: {\n        name: '',\n      },\n      isCancelled: false,\n    } \n  }\n\n  validate = () => {\n    const jobTypeCreate = this.props.jobs.some(job => job.nazwa_etatu === this.state.inputs.name)\n    return { //true means error\n      errors: {\n        name: jobTypeCreate || !this.state.inputs.name.length,\n      },\n      errorsLabel: {\n        name: jobTypeCreate? 'Etat już istnieje' : (!this.state.inputs.name.length ? 'Puste imie' : '')\n      }\n    }\n  }\n\n  setInputValue = (name, val) => {\n    const state = this.state\n    state.inputs[name] = val\n    this.setState(state)\n  }\n\n  exit = () => {\n    const state = this.state\n    state.isCancelled = true\n    this.setState(state)\n  }\n\n  setErrors = (errors, label) => {\n    const state = this.state\n    state.errors = errors\n    state.errorsLabel = label\n    this.setState(state)\n  }\n\n  submit = (button) => {\n    if(button === 'cancel') {\n      this.exit()\n      this.props.onClose(button)\n    } else {\n      const errors = this.validate()\n      const isError = Object.keys(errors.errors).some(key => errors.errors[key])\n      \n      if(isError) {\n        this.setErrors(errors.errors, errors.errorsLabel)\n      } else {\n        this.props.setData(this.state.inputs)\n        this.exit()\n        this.props.onClose(button)\n      }\n    }\n  }\n\n  render = () => {\n    return !this.state.isCancelled && (\n    <FormDialog title={this.props.title} isOpen={true} message={this.props.message} onClose={(type) => {this.submit(type)}}>\n      \n      <TextField\n      autoFocus\n      required\n      error={this.state.errors.name}\n      helperText={this.state.errorsLabel.name}\n      margin=\"dense\"\n      id=\"name\"\n      label=\"Etat\"\n      type=\"text\"\n      fullWidth\n      onChange={(event) => {if(event.target.value !== null) this.setInputValue('name', event.target.value)}}\n      inputProps={{ maxLength: 45 }}\n      />\n\n     <input type=\"number\" min=\"0\" max=\"30000\" value=\"0\" onChange={(event) => {this.setInputValue('payment', event.target.value)}}/>\n\n    </FormDialog>\n  )}\n}\n\nexport class EditJobType extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n        inputs: {\n          name: this.props.selected.nazwa_etatu,\n          payment: this.props.selected.placa_pod\n        },\n        errors: {\n          name: false\n        },\n        errorsLabel: {\n          name: '',\n        },\n        isCancelled: false,\n      } \n    }\n  \n    validate = () => {\n        const jobTypeCreate = this.props.jobs.some(job => job.nazwa_etatu === this.state.inputs.name)\n        return { //true means error\n          errors: {\n            name: jobTypeCreate || !this.state.inputs.name.length,\n          },\n          errorsLabel: {\n            name: jobTypeCreate? 'Etat już istnieje' : (!this.state.inputs.name.length ? 'Puste imie' : '')\n          }\n        }\n      }\n  \n    setInputValue = (name, val) => {\n      const state = this.state\n      state.inputs[name] = val\n      this.setState(state)\n    }\n  \n    exit = () => {\n      const state = this.state\n      state.isCancelled = true\n      this.setState(state)\n    }\n  \n    setErrors = (errors, label) => {\n      const state = this.state\n      state.errors = errors\n      state.errorsLabel = label\n      this.setState(state)\n    }\n  \n    submit = (button) => {\n      if(button === 'cancel') {\n        this.exit()\n        this.props.onClose(button)\n      } else {\n        const errors = this.validate()\n        const isError = Object.keys(errors.errors).some(key => errors.errors[key])\n        \n        if(isError) {\n          this.setErrors(errors.errors, errors.errorsLabel)\n        } else {\n          this.props.setData(this.state.inputs)\n          this.exit()\n          this.props.onClose(button)\n        }\n      }\n    }\n  \n    render = () => {\n      return !this.state.isCancelled && (\n      <FormDialog title={this.props.title} isOpen={true} message={this.props.message} onClose={(type) => {this.submit(type)}}>\n        \n        <TextField\n        autoFocus\n        required\n        error={this.state.errors.name}\n        helperText={this.state.errorsLabel.name}\n        margin=\"dense\"\n        id=\"name\"\n        label=\"Etat\"\n        type=\"text\"\n        fullWidth\n        onChange={(event) => {if(event.target.value !== null) this.setInputValue('name', event.target.value)}}\n        inputProps={{ maxLength: 45 }}\n        />\n  \n       <input type=\"number\" min=\"0\" max=\"30000\" value=\"0\" onChange={(event) => {this.setInputValue('payment', event.target.value)}}/>\n  \n      </FormDialog>\n    )}\n  }\n\nexport class SignTreatmentDialog extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputs: {\n        pesel: this.props.pesels[0]\n      },\n      isCancelled: false,\n    } \n  }\n\n  setInputValue = (name, val) => {\n    const state = this.state\n    state.inputs[name] = val\n    this.setState(state)\n  }\n\n  exit = () => {\n    const state = this.state\n    state.isCancelled = true\n    this.setState(state)\n  }\n\n  submit = (button) => {\n    if(button === 'cancel') {\n      this.exit()\n      this.props.onClose(button)\n    } else {\n      this.props.setData(this.state.inputs)\n      this.exit()\n      this.props.onClose(button)\n    }\n  }\n\n  render = () => {\n    return !this.state.isCancelled && (\n    <FormDialog title={this.props.title} isOpen={true} message={this.props.message} onClose={(type) => {this.submit(type)}}>\n      \n      <label>Pesel </label>\n      <select name=\"Pesel\" onChange={(event) => {\n          this.setInputValue('pesel', event.target.value)\n        }}\n      >\n        {this.props.pesels.map((pesel, indx) => <option value={pesel} selected={indx === 0}>{pesel}</option>)}\n      </select>\n    </FormDialog>\n  )}\n}"]},"metadata":{},"sourceType":"module"}