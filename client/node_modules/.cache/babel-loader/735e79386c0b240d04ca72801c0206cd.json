{"ast":null,"code":"var _jsxFileName = \"/home/chairchandler/Desktop/Bazy Danych/client/src/ReceptionPanel/Dialogs.js\";\nimport React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { FormDialog, QuestionDialog } from '../Shared/Dialog';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker, Day } from '@material-ui/pickers';\nexport class AddPatientDialog extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.validate = () => {\n      const userCreated = this.props.users.some(row => row.nazwa === this.state.inputs.login);\n      return {\n        //true means error\n        errors: {\n          pesel: this.state.inputs.login.length !== 11 || userCreated,\n          name: !this.state.inputs.password.length,\n          surname: !this.state.inputs.nazwisko.length\n        },\n        errorsLabel: {\n          login: this.state.inputs.login.length !== 11 ? 'Niewłaściwy numer pesel' : userCreated ? 'Taki uzytkownik juz istnieje' : '',\n          name: !this.state.inputs.imie.length ? 'Puste imie' : '',\n          surname: !this.state.inputs.nazwisko.length ? 'Puste nazwisko' : ''\n        }\n      };\n    };\n\n    this.setInputValue = (name, val) => {\n      const state = this.state;\n      state.inputs[name] = val;\n      this.setState(state);\n    };\n\n    this.exit = () => {\n      const state = this.state;\n      state.isCancelled = true;\n      this.setState(state);\n    };\n\n    this.setErrors = (errors, label) => {\n      const state = this.state;\n      state.errors = errors;\n      state.errorsLabel = label;\n      this.setState(state);\n    };\n\n    this.submit = button => {\n      if (button === 'cancel') {\n        this.exit();\n        this.props.onClose(button);\n      } else {\n        const errors = this.validate();\n        const isError = Object.keys(errors.errors).some(key => errors.errors[key]);\n\n        if (isError) {\n          this.setErrors(errors.errors, errors.errorsLabel);\n        } else {\n          this.props.setData(this.state.inputs);\n          this.exit();\n          this.props.onClose(button);\n        }\n      }\n    };\n\n    this.render = () => {\n      return !this.state.isCancelled && React.createElement(FormDialog, {\n        title: this.props.title,\n        isOpen: true,\n        message: this.props.message,\n        onClose: type => {\n          this.submit(type);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        autoFocus: true,\n        required: true,\n        error: this.state.errors.name,\n        helperText: this.state.errorsLabel.name,\n        margin: \"dense\",\n        id: \"name\",\n        label: \"Imie\",\n        type: \"text\",\n        fullWidth: true,\n        onChange: event => {\n          if (event.target.value !== null) this.setInputValue('name', event.target.value);\n        },\n        inputProps: {\n          maxLength: 45\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        autoFocus: true,\n        required: true,\n        error: this.state.errors.surname,\n        helperText: this.state.errorsLabel.surname,\n        margin: \"dense\",\n        id: \"surname\",\n        label: \"Nazwisko\",\n        type: \"text\",\n        fullWidth: true,\n        onChange: event => {\n          if (event.target.value !== null) this.setInputValue('surname', event.target.value);\n        },\n        inputProps: {\n          maxLength: 45\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        autoFocus: true,\n        required: true,\n        error: this.state.errors.pesel,\n        helperText: this.state.errorsLabel.pesel,\n        margin: \"dense\",\n        id: \"pesel\",\n        label: \"Pesel\",\n        type: \"text\",\n        fullWidth: true,\n        onChange: event => {\n          if (event.target.value !== null) this.setInputValue('pesel', event.target.value);\n        },\n        inputProps: {\n          maxLength: 11\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(KeyboardDatePicker, {\n        margin: \"normal\",\n        id: \"date-picker-dialog\",\n        label: \"Date picker dialog\",\n        format: \"MM/dd/yyyy\",\n        value: AddPatientDialog.today,\n        onChange: event => {\n          if (event.target.value !== null) this.setInputValue('date_of_birth', event.target.value);\n        },\n        KeyboardButtonProps: {\n          'aria-label': 'change date'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })));\n    };\n\n    this.state = {\n      inputs: {\n        pesel: '',\n        name: '',\n        surname: null,\n        date_of_birth: null\n      },\n      errors: {\n        pesel: false,\n        name: false,\n        surname: false\n      },\n      errorsLabel: {\n        pesel: '',\n        name: '',\n        surname: ''\n      },\n      isCancelled: false\n    };\n  }\n\n}\nAddPatientDialog.today = new Date();\nexport class EditUserDialog extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setInputValue = (name, val) => {\n      const state = this.state;\n      state.inputs[name] = val;\n      this.setState(state);\n    };\n\n    this.exit = () => {\n      const state = this.state;\n      state.isCancelled = true;\n      this.setState(state);\n    };\n\n    this.submit = button => {\n      if (button === 'done') {\n        this.props.setData(this.state.inputs);\n      }\n\n      this.exit();\n      this.props.onClose(button);\n    };\n\n    this.render = () => {\n      return !this.state.isCancelled && React.createElement(FormDialog, {\n        title: this.props.title,\n        isOpen: true,\n        message: this.props.message,\n        onClose: type => {\n          this.submit(type);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        id: \"password\",\n        label: \"Haslo\",\n        type: \"password\",\n        fullWidth: true,\n        onChange: event => {\n          this.setInputValue('password', event.target.value);\n        },\n        inputProps: {\n          maxLength: 45\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), React.createElement(\"select\", {\n        name: \"Typ\",\n        onChange: event => {\n          if (event.target.value === 'null') {\n            this.setInputValue('type', null);\n          } else {\n            this.setInputValue('type', event.target.value);\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"null\",\n        selected: this.props.selected.rola == null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"---\"), this.props.types.map(type => React.createElement(\"option\", {\n        value: type,\n        selected: this.props.selected.rola === type,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, type))));\n    };\n\n    this.state = {\n      inputs: {\n        password: null,\n        type: this.props.selected.rola\n      },\n      isCancelled: false\n    };\n  }\n\n}\nexport const DeleteUserDialog = ({\n  isOpen,\n  title,\n  onClose\n}) => React.createElement(QuestionDialog, {\n  isOpen: isOpen,\n  title: title,\n  question: \"Czy jestes pewny?\",\n  answers: ['cancel', 'delete'],\n  onClose: onClose,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 216\n  },\n  __self: this\n});","map":{"version":3,"sources":["/home/chairchandler/Desktop/Bazy Danych/client/src/ReceptionPanel/Dialogs.js"],"names":["React","TextField","FormDialog","QuestionDialog","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","Day","AddPatientDialog","Component","constructor","props","validate","userCreated","users","some","row","nazwa","state","inputs","login","errors","pesel","length","name","password","surname","nazwisko","errorsLabel","imie","setInputValue","val","setState","exit","isCancelled","setErrors","label","submit","button","onClose","isError","Object","keys","key","setData","render","title","message","type","event","target","value","maxLength","today","date_of_birth","Date","EditUserDialog","selected","rola","types","map","DeleteUserDialog","isOpen"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { FormDialog, QuestionDialog } from '../Shared/Dialog';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker, Day } from '@material-ui/pickers';\n\nexport class AddPatientDialog extends React.Component {\n  static today = new Date()\n  \n  constructor(props) {\n    super(props)\n    this.state = {\n      inputs: {\n        pesel: '',\n        name: '',\n        surname: null,\n        date_of_birth: null\n      },\n      errors: {\n        pesel: false,\n        name: false,\n        surname: false\n      },\n      errorsLabel: {\n        pesel: '',\n        name: '',\n        surname: ''\n      },\n      isCancelled: false,\n    } \n  }\n\n  validate = () => {\n    const userCreated = this.props.users.some(row => row.nazwa === this.state.inputs.login)\n\n    return { //true means error\n      errors: {\n        pesel: this.state.inputs.login.length !== 11 || userCreated,\n        name: !this.state.inputs.password.length,\n        surname: !this.state.inputs.nazwisko.length\n      },\n      errorsLabel: {\n        login: this.state.inputs.login.length !== 11 ? 'Niewłaściwy numer pesel' : (userCreated ? 'Taki uzytkownik juz istnieje' : ''),\n        name: !this.state.inputs.imie.length ? 'Puste imie' : '',\n        surname: !this.state.inputs.nazwisko.length ? 'Puste nazwisko': ''\n      }\n    }\n  }\n\n  setInputValue = (name, val) => {\n    const state = this.state\n    state.inputs[name] = val\n    this.setState(state)\n  }\n\n  exit = () => {\n    const state = this.state\n    state.isCancelled = true\n    this.setState(state)\n  }\n\n  setErrors = (errors, label) => {\n    const state = this.state\n    state.errors = errors\n    state.errorsLabel = label\n    this.setState(state)\n  }\n\n  submit = (button) => {\n    if(button === 'cancel') {\n      this.exit()\n      this.props.onClose(button)\n    } else {\n      const errors = this.validate()\n      const isError = Object.keys(errors.errors).some(key => errors.errors[key])\n      \n      if(isError) {\n        this.setErrors(errors.errors, errors.errorsLabel)\n      } else {\n        this.props.setData(this.state.inputs)\n        this.exit()\n        this.props.onClose(button)\n      }\n    }\n  }\n\n  render = () => {\n    return !this.state.isCancelled && (\n    <FormDialog title={this.props.title} isOpen={true} message={this.props.message} onClose={(type) => {this.submit(type)}}>\n      \n      <TextField\n      autoFocus\n      required\n      error={this.state.errors.name}\n      helperText={this.state.errorsLabel.name}\n      margin=\"dense\"\n      id=\"name\"\n      label=\"Imie\"\n      type=\"text\"\n      fullWidth\n      onChange={(event) => {if(event.target.value !== null) this.setInputValue('name', event.target.value)}}\n      inputProps={{ maxLength: 45 }}\n      />\n\n      <TextField\n      autoFocus\n      required\n      error={this.state.errors.surname}\n      helperText={this.state.errorsLabel.surname}\n      margin=\"dense\"\n      id=\"surname\"\n      label=\"Nazwisko\"\n      type=\"text\"\n      fullWidth\n      onChange={(event) => {if(event.target.value !== null) this.setInputValue('surname', event.target.value)}}\n      inputProps={{ maxLength: 45 }}\n      />\n\n      <TextField\n      autoFocus\n      required\n      error={this.state.errors.pesel}\n      helperText={this.state.errorsLabel.pesel}\n      margin=\"dense\"\n      id=\"pesel\"\n      label=\"Pesel\"\n      type=\"text\"\n      fullWidth\n      onChange={(event) => {if(event.target.value !== null) this.setInputValue('pesel', event.target.value)}}\n      inputProps={{ maxLength: 11 }}\n      />\n\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <KeyboardDatePicker\n            margin=\"normal\"\n            id=\"date-picker-dialog\"\n            label=\"Date picker dialog\"\n            format=\"MM/dd/yyyy\"\n            value={AddPatientDialog.today}\n            onChange={(event) => {if(event.target.value !== null) this.setInputValue('date_of_birth', event.target.value)}}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n        />\n      </MuiPickersUtilsProvider>\n\n    </FormDialog>\n  )}\n}\n\nexport class EditUserDialog extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputs: {\n        password: null,\n        type: this.props.selected.rola\n      },\n      isCancelled: false,\n    } \n  }\n\n  setInputValue = (name, val) => {\n    const state = this.state\n    state.inputs[name] = val\n    this.setState(state)\n  }\n\n  exit = () => {\n    const state = this.state\n    state.isCancelled = true\n    this.setState(state)\n  }\n\n  submit = (button) => {\n    if(button === 'done') {\n      this.props.setData(this.state.inputs)\n    }\n\n    this.exit()\n    this.props.onClose(button)\n  }\n\n  render = () => {\n    return !this.state.isCancelled && (\n    <FormDialog title={this.props.title} isOpen={true} message={this.props.message} onClose={(type) => {this.submit(type)}}>\n      \n      <TextField\n      autoFocus\n      margin=\"dense\"\n      id=\"password\"\n      label=\"Haslo\"\n      type=\"password\"\n      fullWidth\n      onChange={(event) => {this.setInputValue('password', event.target.value)}}\n      inputProps={{ maxLength: 45 }}\n      />\n\n      <select name=\"Typ\" onChange={(event) => {\n        if(event.target.value === 'null') {\n          this.setInputValue('type', null)\n        } else {\n          this.setInputValue('type', event.target.value)\n        }}}\n      >\n\n        <option value=\"null\" selected={this.props.selected.rola == null}>---</option>\n        {this.props.types.map(type => <option value={type} selected={this.props.selected.rola === type}>{type}</option>)}\n\n      </select>\n    </FormDialog>\n  )}\n}\n\nexport const DeleteUserDialog = ({isOpen, title, onClose}) =>\n    <QuestionDialog isOpen={isOpen} title={title} question=\"Czy jestes pewny?\" answers={['cancel', 'delete']} onClose={onClose}/>"]},"metadata":{},"sourceType":"module"}